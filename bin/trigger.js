// Generated by CoffeeScript 1.7.1
(function() {
  var Trigger,
    __slice = [].slice;

  Trigger = (function() {
    function Trigger() {
      this._trigger = [];
      this.listeners = {};
    }

    Trigger.prototype.addListener = function(event, callback, context) {
      if (context == null) {
        context = null;
      }
      if (!(this._trigger[event] instanceof Array)) {
        this._trigger[event] = [];
      }
      callback = callback.bind(context);
      return this._trigger[event].push(callback);
    };

    Trigger.prototype.trigger = function() {
      var data, event, func, _i, _len, _ref, _results;
      event = arguments[0], data = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
      if (typeof this._trigger[event] !== "undefined" && this._trigger[event] instanceof Array) {
        _ref = this._trigger[event];
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          func = _ref[_i];
          _results.push(func.apply(null, data));
        }
        return _results;
      }
    };

    Trigger.getInstance = function() {
      return this.getMaster();
    };

    Trigger.getMaster = function() {
      var master;
      master = process || window;
      if (typeof master.beast === "undefined") {
        master.beast = {};
        master.beast.trigger = new Trigger();
      }
      return master.beast.trigger;
    };

    return Trigger;

  })();

  exports.Trigger = Trigger;

}).call(this);
